# Natron Transformer V2 Configuration

data:
  input_file: "data_export.csv"
  sequence_length: 96
  train_split: 0.7
  val_split: 0.15
  test_split: 0.15
  random_seed: 42

features:
  num_features: 100
  normalize: true
  standardize: true

labels:
  buy_threshold: 2  # Minimum conditions for BUY
  sell_threshold: 2  # Minimum conditions for SELL
  direction_neutral_buffer: 0.001
  balance_classes: true
  stochastic_perturbation: 0.05

model:
  d_model: 256
  nhead: 8
  num_layers: 6
  dim_feedforward: 1024
  dropout: 0.1
  activation: "gelu"
  max_seq_length: 96

training:
  batch_size: 32
  num_epochs_pretrain: 50
  num_epochs_supervised: 100
  learning_rate: 1e-4
  weight_decay: 1e-5
  scheduler_patience: 5
  scheduler_factor: 0.5
  gradient_clip: 1.0
  device: "cuda"  # or "cpu"
  
pretraining:
  mask_probability: 0.15
  contrastive_temperature: 0.07
  contrastive_weight: 0.5
  reconstruction_weight: 0.5

api:
  host: "0.0.0.0"
  port: 5000
  model_path: "model/natron_v2.pt"

mql5:
  socket_host: "127.0.0.1"
  socket_port: 8888
  latency_target_ms: 50

paths:
  model_dir: "model"
  logs_dir: "logs"
  data_dir: "data"
